## 第三方支付

### 拓展-消息摘要

- 1.md5：用户登录和注册，不管使用哪种算法，但是里面必须有md5，md5不可逆
- 2.sha1
- 3.sha256


### 1.加密算法

- 安全是相对的，没有绝对

- 对称加密
	- DES：Data Encrypt Standard，数据加密标准
	- AES：Advanced，更高级的加密方式
	- 特点：加密速快，只有一个密码，密码暴露文件泄漏，密码可以自由指定
	
- 非对称加密
	- RSA：
		- （1）.秘钥对：公钥和私钥，秘钥对不能指定，必须通过系统生成（比如支付宝支付，会提供生成秘钥对的工具）；
		- （2）.公钥加密，私钥解密；私钥加密，公钥解密；
		- （3）.数字签名：消息摘要+RSA，为了校验所属关系，简而言之就是为了验证私钥在哪里
		- （4）.公钥互换：比如公司需要调用支付宝支付，我们要把公钥给支付宝，支付宝也会把它的公钥给我们

### 2.第三方支付

- 支付平台：三大支付，百度钱包、京东钱包、ping++（集成很多第三方支付SDK）

- 实际生活支付场景：比如取超市购物，挑选商品，到柜台结账，工作人员扫描，看商品价格、名称、结账，支付宝、微信、现金、银行卡，查看小票
- 现实中开发：
	- 支付四部曲：
		- （1）.提交信息到服务器：商品信息（价格、数量、商品id），用户信息（手机号、userid）、支付类型（支付宝、微信）
		- （2）：服务器返回json，客户端解析获取“支付串码”（不是官方词汇，指的是调用第三方支付SDK需要的核心参数）
		- （3）：调用第三方支付SDK，传参（支付串码）
		- （4）：处理支付结果：成功、失败、取消


- 银联支付：最简单
- 支付宝：
- 微信支付：最难的，安全码策略（包名+应用名+keystore绑定）

### 3.第三方支付核心知识点

- 同步返回
- 异步通知
- 三大支付区别：